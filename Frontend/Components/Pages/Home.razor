@page "/"
@using Frontend.Services
@inject IWorkflowService WorkflowService
@rendermode InteractiveServer

<button @onclick="StartWorkflow">Start Workflow</button>

@if (_showSuccessMessage)
{
    <p>Workflow started successfully!</p>
}

@if (_errorMessage != null)
{
    <p>Error: @_errorMessage</p>
}

@code {
    private bool _showSuccessMessage = false;
    private string? _errorMessage = null;

    private async Task StartWorkflow()
    {
        try
        {
            _showSuccessMessage = false;
            _errorMessage = null;

            await WorkflowService.StartWorkflow();

            _showSuccessMessage = true;
        }
        catch (Exception ex)
        {
            _errorMessage = ex.Message;
        }
    }
}